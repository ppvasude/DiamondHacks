- job:
    name: iTrust
    auth-token: testToken
    scm:
      - git:
          url: https://github.com/Madhu-Vamsi/iTrust2-v4
    builders:
          - shell: |
                  ansible-playbook /file-templates/setup-iTrust-repo.yml -i /file-templates/inventory
                  cd /var/lib/jenkins/workspace/iTrust/iTrust2
                  sudo mvn -f pom-data.xml process-test-classes
                  sudo mvn clean test verify checkstyle:checkstyle -Djetty.port=9999
    triggers:
      - pollscm:
          cron: 'H/15 * * * *'